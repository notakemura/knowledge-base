**DB の代表的な種類**  
RDB : Oracle, SQL Server, DB2, PostgreSQL, MySQL  
OODB : ObjectStore, Caché  
XMLDB :  
Hierarchical Database :  
NoSQL :  
  - KVS（Key-Value Store） : Redis, DynamoDB, Riak  
  - ドキュメント指向 : MongoDB, CouchDB  
  - カラム指向 : Cassandra, HBase  
  - グラフ DB : Neo4j, ArangoDB  

---
DOA = データ中心アプローチ → 主流  
POA = プロセス（プログラム）中心アプローチ  

---
**3 層スキーマ**  
外部スキーマ → ユーザ  
概念スキーマ → 開発者 ※外部スキーマと内部スキーマのデータ独立性を高める。インターフェース的な。  
内部スキーマ →DBMS  

---
論理設計＝DB設計すること＝物理層の制約にとらわれず、プレゼンテーション層の見え方を定義すること  
①エンティティの抽出  
②エンティティの定義（様々な制約を考えること）  
③正規化  
④ER図の作成  
  
物理設計＝物理的な制約を考えること  
①テーブル定義  
②インデックス定義  
③ハードウェアのサイジング（①②が決まらないと決められない。）  
④ストレージの冗長化決定（〃）＝RAIDOのどのパターンを採用するか。  
⑤ファイルの物理配置決定（〃）＝データファイル、インデックスファイル、一時ファイル（サブクエリとか）のサイズは意識すべき。システムファイル、ログファイルは内部の動きに任せるくらいで良い。  
  
Note：  
カラムの制約を考えるのは論理設計。インデックス定義は物理設計。  
内部スキーマの構造を理解してないと、物理設計するのは難しい。  
③④⑤はクラウド時代なので意識できる機会が少なそう。  
  
RAID＝冗長化構成。複数のディスクに同じデータを書き込む。  
  
---
**バックアップ**  
- フルバックアップ  
あるタイミングにおけるスナップショット。  
バックアップの時間が長い。負荷が高い。  
- 差分バックアップ  
トランザクションログをもとに任意の時間の状態に戻す。  
前回のフルバックアップからの差分をためていく。  
- 増分バックアップ  
差分バックアップとデータ再現の方法は同じ。  
前回の任意のバックアップからの差分をためていく。  
基準日＋次の日＋次の次の日...＋障害発生日のバックアップを合わせる必要がある。  
  
リストア＝フルバックアップのファイルをデータベースに戻す。  
リカバリ＝差分（増分）バックアップしていたトランザクションログを適用する。  
ロールフォーワード＝データベースサーバに残っているトランザクションログを適用する。  

※サーバーCPUの机上サイジング  
１．アクセスログで、レスポンスタイムとスループットを確認  
２．ハードウェアリソースを確認  
- CPU使用率  
- メモリ  
- ディスク  
- ネットワーク  
３．性能比を算出する  

---
